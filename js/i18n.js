// ===== INTERNATIONALIZATION =====
const translations = {
    en: {
        dashboard: 'Dashboard',
        tasks: 'Tasks',
        analytics: 'Analytics',
        calendar: 'Calendar',
        expenses: 'Expenses',
        welcomeBack: 'Welcome Back!',
        login: 'Login',
        noAccount: "Don't have an account?",
        signup: 'Sign up',
        welcomeMessage: 'Welcome back, User! ðŸ‘‹',
        dayStreak: 'day streak',
        smartTaskManager: 'Smart Task Manager',
        taskPlaceholder: 'Add a new task...',
        study: 'Study',
        health: 'Health',
        work: 'Work',
        personal: 'Personal',
        high: 'High',
        medium: 'Medium',
        low: 'Low',
        all: 'All',
        completed: 'Completed',
        pending: 'Pending',
        productivityAnalytics: 'Productivity Analytics',
        completionRate: 'Completion Rate',
        mostProductive: 'Most Productive',
        mentalHealth: 'Mental Health Tracker',
        gratitudeNote: 'I\'m grateful for:',
        expenseTracker: 'Expense Tracker',
        currentBalance: 'Current Balance',
        income: 'Income',
        food: 'Food',
        transport: 'Transport',
        entertainment: 'Entertainment',
        bills: 'Bills',
        add: 'Add',
        smartCalendar: 'Smart Calendar',
        upcomingTasks: 'Upcoming Tasks',
        globalTime: 'Global Time Zone',
        pakistan: 'Pakistan',
        usa: 'USA (NY)',
        uk: 'UK',
        japan: 'Japan',
        addTimezone: 'Add Timezone',
        achievements: 'Achievements',
        streakMaster: 'Streak Master',
        taskHero: 'Task Hero',
        saver: 'Saver',
        mindful: 'Mindful',
        installApp: 'Install LifeOS App',
        installDesc: 'Install on your device for offline use',
        install: 'Install',
        logout: 'Logout',
        settings: 'Settings',
        profile: 'Profile',
        help: 'Help'
    },
    ur: {
        dashboard: 'ÚˆÛŒØ´ Ø¨ÙˆØ±Úˆ',
        tasks: 'Ú©Ø§Ù…',
        analytics: 'ØªØ¬Ø²ÛŒÛ',
        calendar: 'Ú©ÛŒÙ„Ù†ÚˆØ±',
        expenses: 'Ø§Ø®Ø±Ø§Ø¬Ø§Øª',
        welcomeBack: 'Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!',
        login: 'Ù„Ø§Ú¯ Ø§Ù†',
        noAccount: 'Ø§Ú©Ø§Ø¤Ù†Ù¹ Ù†ÛÛŒÚº ÛÛ’ØŸ',
        signup: 'Ø³Ø§Ø¦Ù† Ø§Ù¾',
        welcomeMessage: 'Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ØŒ ØµØ§Ø±Ù! ðŸ‘‹',
        dayStreak: 'Ø¯Ù† Ú©Ø§ Ø³Ù„Ø³Ù„Û',
        smartTaskManager: 'Ø³Ù…Ø§Ø±Ù¹ Ù¹Ø§Ø³Ú© Ù…ÛŒÙ†ÛŒØ¬Ø±',
        taskPlaceholder: 'Ù†ÛŒØ§ Ú©Ø§Ù… Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº...',
        study: 'Ù…Ø·Ø§Ù„Ø¹Û',
        health: 'ØµØ­Øª',
        work: 'Ú©Ø§Ù…',
        personal: 'Ø°Ø§ØªÛŒ',
        high: 'Ø§Ø¹Ù„ÛŒ',
        medium: 'Ø¯Ø±Ù…ÛŒØ§Ù†Û',
        low: 'Ú©Ù…',
        all: 'Ø³Ø¨',
        completed: 'Ù…Ú©Ù…Ù„',
        pending: 'Ø²ÛŒØ± Ø§Ù„ØªÙˆØ§Ø¡',
        productivityAnalytics: 'Ù¾ÛŒØ¯Ø§ÙˆØ§Ø±ÛŒ ØªØ¬Ø²ÛŒÛ',
        completionRate: 'ØªÚ©Ù…ÛŒÙ„ Ú©ÛŒ Ø´Ø±Ø­',
        mostProductive: 'Ø³Ø¨ Ø³Û’ Ø²ÛŒØ§Ø¯Û Ù¾ÛŒØ¯Ø§ÙˆØ§Ø±ÛŒ',
        mentalHealth: 'Ø°ÛÙ†ÛŒ ØµØ­Øª',
        gratitudeNote: 'Ù…ÛŒÚº Ø´Ú©Ø±Ú¯Ø²Ø§Ø± ÛÙˆÚº:',
        expenseTracker: 'Ø§Ø®Ø±Ø§Ø¬Ø§Øª Ù¹Ø±ÛŒÚ©Ø±',
        currentBalance: 'Ù…ÙˆØ¬ÙˆØ¯Û Ø¨ÛŒÙ„Ù†Ø³',
        income: 'Ø¢Ù…Ø¯Ù†ÛŒ',
        food: 'Ú©Ú¾Ø§Ù†Ø§',
        transport: 'Ù¹Ø±Ø§Ù†Ø³Ù¾ÙˆØ±Ù¹',
        entertainment: 'ØªÙØ±ÛŒØ­',
        bills: 'Ø¨Ù„Ø²',
        add: 'Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº',
        smartCalendar: 'Ø³Ù…Ø§Ø±Ù¹ Ú©ÛŒÙ„Ù†ÚˆØ±',
        upcomingTasks: 'Ø¢Ù†Û’ ÙˆØ§Ù„Û’ Ú©Ø§Ù…',
        globalTime: 'Ø¹Ø§Ù„Ù…ÛŒ Ù¹Ø§Ø¦Ù… Ø²ÙˆÙ†',
        pakistan: 'Ù¾Ø§Ú©Ø³ØªØ§Ù†',
        usa: 'Ø§Ù…Ø±ÛŒÚ©Û (NY)',
        uk: 'Ø¨Ø±Ø·Ø§Ù†ÛŒÛ',
        japan: 'Ø¬Ø§Ù¾Ø§Ù†',
        addTimezone: 'Ù¹Ø§Ø¦Ù… Ø²ÙˆÙ† Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº',
        achievements: 'Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒØ§Úº',
        streakMaster: 'Ø§Ø³Ù¹Ø±ÛŒÚ© Ù…Ø§Ø³Ù¹Ø±',
        taskHero: 'Ù¹Ø§Ø³Ú© ÛÛŒØ±Ùˆ',
        saver: 'Ø¨Ú†Øª Ú©Ø±Ù†Û’ ÙˆØ§Ù„Ø§',
        mindful: 'Ø°ÛÙ†ÛŒ',
        installApp: 'LifeOS Ø§ÛŒÙ¾ Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚº',
        installDesc: 'Ø¢Ù Ù„Ø§Ø¦Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Û’ Ù„ÛŒÛ’ Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚº',
        install: 'Ø§Ù†Ø³Ù¹Ø§Ù„',
        logout: 'Ù„Ø§Ú¯ Ø¢Ø¤Ù¹',
        settings: 'ØªØ±ØªÛŒØ¨Ø§Øª',
        profile: 'Ù¾Ø±ÙˆÙØ§Ø¦Ù„',
        help: 'Ù…Ø¯Ø¯'
    },
    ar: {
        dashboard: 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',
        tasks: 'Ø§Ù„Ù…Ù‡Ø§Ù…',
        analytics: 'Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª',
        calendar: 'Ø§Ù„ØªÙ‚ÙˆÙŠÙ…',
        expenses: 'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª',
        welcomeBack: 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ!',
        login: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
        noAccount: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ',
        signup: 'Ø§Ø´ØªØ±Ø§Ùƒ',
        welcomeMessage: 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒØŒ Ù…Ø³ØªØ®Ø¯Ù…! ðŸ‘‹',
        dayStreak: 'Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©',
        smartTaskManager: 'Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ',
        taskPlaceholder: 'Ø£Ø¶Ù Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©...',
        study: 'Ø¯Ø±Ø§Ø³Ø©',
        health: 'ØµØ­Ø©',
        work: 'Ø¹Ù…Ù„',
        personal: 'Ø´Ø®ØµÙŠ',
        high: 'Ø¹Ø§Ù„ÙŠ',
        medium: 'Ù…ØªÙˆØ³Ø·',
        low: 'Ù…Ù†Ø®ÙØ¶',
        all: 'Ø§Ù„ÙƒÙ„',
        completed: 'Ù…ÙƒØªÙ…Ù„',
        pending: 'Ù…Ø¹Ù„Ù‚',
        productivityAnalytics: 'ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©',
        completionRate: 'Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²',
        mostProductive: 'Ø§Ù„Ø£ÙƒØ«Ø± Ø¥Ù†ØªØ§Ø¬ÙŠØ©',
        mentalHealth: 'ØªØªØ¨Ø¹ Ø§Ù„ØµØ­Ø© Ø§Ù„Ù†ÙØ³ÙŠØ©',
        gratitudeNote: 'Ø£Ù†Ø§ Ù…Ù…ØªÙ† Ù„Ù€:',
        expenseTracker: 'ØªØªØ¨Ø¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª',
        currentBalance: 'Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ',
        income: 'Ø¯Ø®Ù„',
        food: 'Ø·Ø¹Ø§Ù…',
        transport: 'Ù…ÙˆØ§ØµÙ„Ø§Øª',
        entertainment: 'ØªØ±ÙÙŠÙ‡',
        bills: 'ÙÙˆØ§ØªÙŠØ±',
        add: 'Ø¥Ø¶Ø§ÙØ©',
        smartCalendar: 'Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ',
        upcomingTasks: 'Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©',
        globalTime: 'Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ',
        pakistan: 'Ø¨Ø§ÙƒØ³ØªØ§Ù†',
        usa: 'Ø£Ù…Ø±ÙŠÙƒØ§ (Ù†ÙŠÙˆÙŠÙˆØ±Ùƒ)',
        uk: 'Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©',
        japan: 'Ø§Ù„ÙŠØ§Ø¨Ø§Ù†',
        addTimezone: 'Ø¥Ø¶Ø§ÙØ© Ù…Ù†Ø·Ù‚Ø© Ø²Ù…Ù†ÙŠØ©',
        achievements: 'Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª',
        streakMaster: 'Ø³ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ©',
        taskHero: 'Ø¨Ø·Ù„ Ø§Ù„Ù…Ù‡Ø§Ù…',
        saver: 'Ù…Ø¯Ø®Ø±',
        mindful: 'ÙˆØ§Ø¹ÙŠ',
        installApp: 'ØªØ«Ø¨ÙŠØª ØªØ·Ø¨ÙŠÙ‚ LifeOS',
        installDesc: 'Ø«Ø¨Øª Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„',
        install: 'ØªØ«Ø¨ÙŠØª',
        logout: 'ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬',
        settings: 'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª',
        profile: 'Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ',
        help: 'Ù…Ø³Ø§Ø¹Ø¯Ø©'
    },
    es: {
        dashboard: 'Tablero',
        tasks: 'Tareas',
        analytics: 'AnÃ¡lisis',
        calendar: 'Calendario',
        expenses: 'Gastos',
        welcomeBack: 'Â¡Bienvenido de nuevo!',
        login: 'Iniciar sesiÃ³n',
        noAccount: 'Â¿No tienes cuenta?',
        signup: 'Registrarse',
        welcomeMessage: 'Â¡Bienvenido de nuevo, Usuario! ðŸ‘‹',
        dayStreak: 'dÃ­as seguidos',
        smartTaskManager: 'Gestor Inteligente de Tareas',
        taskPlaceholder: 'AÃ±adir nueva tarea...',
        study: 'Estudio',
        health: 'Salud',
        work: 'Trabajo',
        personal: 'Personal',
        high: 'Alta',
        medium: 'Media',
        low: 'Baja',
        all: 'Todos',
        completed: 'Completados',
        pending: 'Pendientes',
        productivityAnalytics: 'AnÃ¡lisis de Productividad',
        completionRate: 'Tasa de FinalizaciÃ³n',
        mostProductive: 'MÃ¡s Productivo',
        mentalHealth: 'Seguimiento de Salud Mental',
        gratitudeNote: 'Estoy agradecido por:',
        expenseTracker: 'Seguimiento de Gastos',
        currentBalance: 'Saldo Actual',
        income: 'Ingresos',
        food: 'Comida',
        transport: 'Transporte',
        entertainment: 'Entretenimiento',
        bills: 'Facturas',
        add: 'AÃ±adir',
        smartCalendar: 'Calendario Inteligente',
        upcomingTasks: 'PrÃ³ximas Tareas',
        globalTime: 'Zona Horaria Global',
        pakistan: 'PakistÃ¡n',
        usa: 'EE.UU. (NY)',
        uk: 'Reino Unido',
        japan: 'JapÃ³n',
        addTimezone: 'AÃ±adir Zona Horaria',
        achievements: 'Logros',
        streakMaster: 'Maestro de Racha',
        taskHero: 'HÃ©roe de Tareas',
        saver: 'Ahorrador',
        mindful: 'Consciente',
        installApp: 'Instalar App LifeOS',
        installDesc: 'Instala en tu dispositivo para uso sin conexiÃ³n',
        install: 'Instalar',
        logout: 'Cerrar sesiÃ³n',
        settings: 'ConfiguraciÃ³n',
        profile: 'Perfil',
        help: 'Ayuda'
    }
};

let currentLanguage = localStorage.getItem('language') || 'en';

function changeLanguage(lang) {
    currentLanguage = lang;
    
    // Update active button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.textContent.toLowerCase().includes(lang)) {
            btn.classList.add('active');
        }
    });
    
    // Update all translatable elements
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
        }
    });
    
    localStorage.setItem('language', lang);
}

// Make function globally available
window.changeLanguage = changeLanguage;